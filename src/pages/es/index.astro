---
import Layout from "../../layouts/Layout.astro";
import Nav from "../../components/Nav/Nav.astro";
import About from "../../components/About/About.astro";
import Projects from "../../components/Projects/Projects.astro";
import Form from "../../components/Form/Form.astro";
import "../../styles/main.css";
import React from "../../components/About/icons/React.astro";
import HTML from "../../components/About/icons/HTML.astro";
import CSS from "../../components/About/icons/CSS.astro";
---

<Layout title="Home">
  <div id="scrollable-container">
    <header id="header-container">
      <Nav />
    </header>

    <main id="main-container">
      <About />

      <section class="about-section">
        <div class="content">
          <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Omnis, culpa
            corporis, officiis, cupiditate hic unde quasi laboriosam autem incidunt
            ut aliquam ad suscipit delectus obcaecati debitis beatae expedita
            similique consequatur?
          </p>
          <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Omnis, culpa
            corporis, officiis, cupiditate hic unde quasi laboriosam autem incidunt
            ut aliquam ad suscipit delectus obcaecati debitis beatae expedita
            similique consequatur?
          </p>
          <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Omnis, culpa
            corporis, officiis, cupiditate hic unde quasi laboriosam autem incidunt
            ut aliquam ad suscipit delectus obcaecati debitis beatae expedita
            similique consequatur?
          </p>
        </div>

        <div class="icons">
          <React />
          <HTML />
          <CSS />
        </div>
      </section>

      <Projects />

      <Form />
    </main>

    <footer>
      <!-- <img class="clouds" src="/cloudMask.jpg" alt=""> -->
      <svg
        class="clouds"
        viewBox="0 0 1200 800"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask id="m">
          <g class="cloud1">
            <rect fill="#fff" width="100%" height="801" y="799"></rect>
            <image
              xlink:href="https://assets.codepen.io/721952/cloud1Mask.jpg"
              width="1200"
              height="200"
            />
          </g>
        </mask>

        <image
          class="cloud2"
          xlink:href="https://assets.codepen.io/721952/cloud2.png"
          width="1200"
          height="800"
        />

        <image
          class="cloud3"
          xlink:href="https://assets.codepen.io/721952/cloud3.png"
          width="1200"
          height="800"
        />

        <rect
          id="arrow-btn"
          width="100"
          height="100"
          opacity="0"
          x="550"
          y="220"
          style="cursor:pointer"></rect>
      </svg>
    </footer>
  </div>
</Layout>

<script>
  import { animate, hover, scroll } from "motion";

  const scrollableContainer = document.getElementById("scrollable-container");

  if (scrollableContainer) {
    scroll(animate(".cloud2", { y: [200, 0] }), {
      container: scrollableContainer,
    });
    scroll(animate(".cloud3", { y: [150, 0] }), {
      container: scrollableContainer,
    });
  }

  hover("#social-container a", (el) => {
    animate(el, { rotate: 360 }, { type: "tween", stiffness: 300 });

    return () => animate(el, { rotate: 0 }, { type: "tween", stiffness: 300 });
  });

  animate(
    ".profile-logo",
    { scale: [0.4, 1] },
    { ease: "circInOut", duration: 1 },
  );
</script>
