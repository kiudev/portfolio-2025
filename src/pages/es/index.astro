---
import Layout from "../../layouts/Layout.astro";
import Nav from "../../components/Nav/Nav.astro";
import Header from "../../components/Header/Header.astro";
import About from "../../components/About/About.astro";
import Projects from "../../components/Projects/Projects.astro";
import Form from "../../components/Form/Form.astro";
import "../../styles/main.css";
---

<Layout title="Home">
  <div id="window-container">
    <header id="header-container">
      <Nav about="Sobre mí" projects="Proyectos" contact="Contacto" />
    </header>

    <main id="main-container">
      <Header
        position="Frontend Developer"
        headline="Disfruto creando interfaces enfocadas en la creatividad visual y en una experiencia de usuario óptima."
      />

      <About
        heading="Te estarás preguntando quién soy"
        firstParagraph="Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet ipsa at quaerat, debitis quidem molestias, alias assumenda nisi sunt ut aperiam illum dolores voluptates quo perspiciatis aliquam cum distinctio nulla?"
        secondParagraph="Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet ipsa at quaerat, debitis quidem molestias, alias assumenda nisi sunt ut aperiam illum dolores voluptates quo perspiciatis aliquam cum distinctio nulla?"
      />

      <Projects heading="Proyectos" />

      <Form />
    </main>

    <footer>
      <!-- <img class="clouds" src="/cloudMask.jpg" alt=""> -->
      <svg
        class="clouds"
        viewBox="0 0 1200 800"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask id="m">
          <g class="cloud1">
            <rect fill="#fff" width="100%" height="801" y="799"></rect>
            <image
              xlink:href="https://assets.codepen.io/721952/cloud1Mask.jpg"
              width="1200"
              height="200"
            />
          </g>
        </mask>

        <image
          class="cloud1"
          xlink:href="https://assets.codepen.io/721952/cloud1.png"
          width="1200"
          height="800"
        />

        <image
          class="cloud2"
          xlink:href="https://assets.codepen.io/721952/cloud2.png"
          width="1200"
          height="800"
        />

        <image
          class="cloud3"
          xlink:href="https://assets.codepen.io/721952/cloud3.png"
          width="1200"
          height="800"
        />

        <rect
          id="arrow-btn"
          width="100"
          height="100"
          opacity="0"
          x="550"
          y="220"
          style="cursor:pointer"></rect>
      </svg>
    </footer>
  </div>
</Layout>

<script>
  import { animate, hover, scroll } from "motion";

  const scrollableContainer = document.getElementById("scrollable-container");

  const body = document.body;

  if (scrollableContainer) {
    scroll(animate(".cloud2", { y: [50, 0] }), {
      container: scrollableContainer,
    });
    scroll(animate(".cloud3", { y: [150, 0] }), {
      container: scrollableContainer,
    });

    scrollableContainer.addEventListener("scroll", () => {
      const scrollPosition = scrollableContainer.scrollTop;

      if (scrollPosition > 400) {
        animate(body, {
          backgroundColor: "var(--primary-color-900)",
          color: "var(--neutral-color-100)",
        }, { duration: 0.3 });


      } else {
        animate(body, {
          backgroundColor: "var(--primary-color-600)",
          color: "var(--neutral-color-900)",
        }, { duration: 0.3 });
      }
    });
  }
</script>
