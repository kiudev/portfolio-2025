---
import Layout from "@/layouts/Layout.astro";
import Nav from "@/components/nav/Nav.astro";
import Header from "@/components/header/Header.astro";
import About from "@/components/about/About.astro";
import Projects from "@/components/projects/Projects.astro";
import Form from "@/components/form/Form.astro";
import Footer from "@/components/footer/Footer.astro";
import "@/styles/global.css"
---

<Layout title="Home">
  <div id="window-container">
    <header id="header-container">
      <Nav about="Sobre mÃ­" projects="Proyectos" contact="Contacto" />
    </header>

    <main id="main-container">
      <Header
        position="Frontend Developer"
        headline="I enjoy creating interfaces with a focus on visual creativity and optimal user experience."
      />

      <About
        heading="About me"
        secondHeading="Especializado en el desarrollo frontend"
        firstParagraph="Hola, I am Daniel ðŸ‘‹"
        secondParagraph="I am a frontend developer specialising in creating web interfaces. I love working with modern technologies and creating unique and engaging visual experiences for users."
        thirdParagraph="I specialize in web application development using technologies like React, Next.js, Tailwind CSS and other modern tools. I am always looking to learn something new and improve my skills."
        description="I was in charge of the design and development of web interfaces for various clients. At the same time, I was in charge of optimising the loading time based on Core Web Vitals metrics and also optimising the SEO On Page to increase visibility on Google."
      />

      <Projects heading="Projects" firstDescription="Lorem" secondDescription="dasd" />

      <Form firstHeading="Contact" email="Email" subject="Subject" message="Message" send="Send" emailPlaceholder="Your email address" subjectPlaceholder="Message subject" messagePlaceholder="Type your message here..." />

      <Footer />
    </main>

    <footer>
      <!-- <img class="clouds" src="/cloudMask.jpg" alt=""> -->
      <svg
        class="clouds"
        viewBox="0 0 1200 800"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask id="m">
          <g class="cloud1">
            <rect fill="#fff" width="100%" height="801" y="799"></rect>
            <image
              xlink:href="https://assets.codepen.io/721952/cloud1Mask.jpg"
              width="1200"
              height="200"
            />
          </g>
        </mask>

        <image
          class="cloud1"
          xlink:href="https://assets.codepen.io/721952/cloud1.png"
          width="1200"
          height="800"
        />

        <image
          class="cloud2"
          xlink:href="https://assets.codepen.io/721952/cloud2.png"
          width="1200"
          height="800"
        />

        <image
          class="cloud3"
          xlink:href="https://assets.codepen.io/721952/cloud3.png"
          width="1200"
          height="800"
        />

        <rect
          id="arrow-btn"
          width="100"
          height="100"
          opacity="0"
          x="550"
          y="220"
          style="cursor:pointer"></rect>
      </svg>
    </footer>
  </div>
</Layout>

<script>
  import { animate, scroll } from "motion";
  import { scrollAnimations } from "../../utils/scrollAnimations";

  const scrollableContainer = document.getElementById("scrollable-container");

  const body = document.body;

  if (scrollableContainer) {
    scroll(animate(".cloud2", { y: [50, 0] }), {
      container: scrollableContainer,
    });
    scroll(animate(".cloud3", { y: [150, 0] }), {
      container: scrollableContainer,
    });

    scrollAnimations({
      animations: [
        {
          targetSelector: body,
          animationProps: {
            backgroundColor: "var(--primary-color-900)",
            color: "var(--neutral-color-100)",
          },
          duration: 0.3,
          reverseAnimationProps: {
            backgroundColor: "var(--primary-color-600)",
            color: "var(--neutral-color-900)",
          },
          reverseDuration: 0.3,
        },
        {
          targetSelector: "#window-container",
          animationProps: {
            borderInline: window.matchMedia("(min-width: 1440px)").matches
              ? "2px solid var(--glass-color-100)"
              : "none",
          },
          duration: 0.3,
          reverseAnimationProps: {
            borderInline: window.matchMedia("(min-width: 1440px)").matches
              ? "2px solid var(--glass-color-900)"
              : "none",
          },
          reverseDuration: 0.3,
        },
      ],
    });
  }
</script>
